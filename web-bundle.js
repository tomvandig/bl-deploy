(()=>{var Re=Object.create;var ne=Object.defineProperty;var we=Object.getOwnPropertyDescriptor;var Se=Object.getOwnPropertyNames;var Le=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty;var xe=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var Be=(o,e,t,l)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of Se(e))!Ne.call(o,f)&&f!==t&&ne(o,f,{get:()=>e[f],enumerable:!(l=we(e,f))||l.enumerable});return o};var Oe=(o,e,t)=>(t=o!=null?Re(Le(o)):{},Be(e||!o||!o.__esModule?ne(t,"default",{value:o,enumerable:!0}):t,o));var ie=xe((re,oe)=>{(function(o){if(typeof re=="object")oe.exports=o();else if(typeof define=="function"&&define.amd)define(o);else{var e;try{e=window}catch{e=self}e.SparkMD5=o()}})(function(o){"use strict";var e=function(s,p){return s+p&4294967295},t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function l(s,p,r,n,a,i){return p=e(e(p,s),e(n,i)),e(p<<a|p>>>32-a,r)}function f(s,p){var r=s[0],n=s[1],a=s[2],i=s[3];r+=(n&a|~n&i)+p[0]-680876936|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&a)+p[1]-389564586|0,i=(i<<12|i>>>20)+r|0,a+=(i&r|~i&n)+p[2]+606105819|0,a=(a<<17|a>>>15)+i|0,n+=(a&i|~a&r)+p[3]-1044525330|0,n=(n<<22|n>>>10)+a|0,r+=(n&a|~n&i)+p[4]-176418897|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&a)+p[5]+1200080426|0,i=(i<<12|i>>>20)+r|0,a+=(i&r|~i&n)+p[6]-1473231341|0,a=(a<<17|a>>>15)+i|0,n+=(a&i|~a&r)+p[7]-45705983|0,n=(n<<22|n>>>10)+a|0,r+=(n&a|~n&i)+p[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&a)+p[9]-1958414417|0,i=(i<<12|i>>>20)+r|0,a+=(i&r|~i&n)+p[10]-42063|0,a=(a<<17|a>>>15)+i|0,n+=(a&i|~a&r)+p[11]-1990404162|0,n=(n<<22|n>>>10)+a|0,r+=(n&a|~n&i)+p[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&a)+p[13]-40341101|0,i=(i<<12|i>>>20)+r|0,a+=(i&r|~i&n)+p[14]-1502002290|0,a=(a<<17|a>>>15)+i|0,n+=(a&i|~a&r)+p[15]+1236535329|0,n=(n<<22|n>>>10)+a|0,r+=(n&i|a&~i)+p[1]-165796510|0,r=(r<<5|r>>>27)+n|0,i+=(r&a|n&~a)+p[6]-1069501632|0,i=(i<<9|i>>>23)+r|0,a+=(i&n|r&~n)+p[11]+643717713|0,a=(a<<14|a>>>18)+i|0,n+=(a&r|i&~r)+p[0]-373897302|0,n=(n<<20|n>>>12)+a|0,r+=(n&i|a&~i)+p[5]-701558691|0,r=(r<<5|r>>>27)+n|0,i+=(r&a|n&~a)+p[10]+38016083|0,i=(i<<9|i>>>23)+r|0,a+=(i&n|r&~n)+p[15]-660478335|0,a=(a<<14|a>>>18)+i|0,n+=(a&r|i&~r)+p[4]-405537848|0,n=(n<<20|n>>>12)+a|0,r+=(n&i|a&~i)+p[9]+568446438|0,r=(r<<5|r>>>27)+n|0,i+=(r&a|n&~a)+p[14]-1019803690|0,i=(i<<9|i>>>23)+r|0,a+=(i&n|r&~n)+p[3]-187363961|0,a=(a<<14|a>>>18)+i|0,n+=(a&r|i&~r)+p[8]+1163531501|0,n=(n<<20|n>>>12)+a|0,r+=(n&i|a&~i)+p[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,i+=(r&a|n&~a)+p[2]-51403784|0,i=(i<<9|i>>>23)+r|0,a+=(i&n|r&~n)+p[7]+1735328473|0,a=(a<<14|a>>>18)+i|0,n+=(a&r|i&~r)+p[12]-1926607734|0,n=(n<<20|n>>>12)+a|0,r+=(n^a^i)+p[5]-378558|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^a)+p[8]-2022574463|0,i=(i<<11|i>>>21)+r|0,a+=(i^r^n)+p[11]+1839030562|0,a=(a<<16|a>>>16)+i|0,n+=(a^i^r)+p[14]-35309556|0,n=(n<<23|n>>>9)+a|0,r+=(n^a^i)+p[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^a)+p[4]+1272893353|0,i=(i<<11|i>>>21)+r|0,a+=(i^r^n)+p[7]-155497632|0,a=(a<<16|a>>>16)+i|0,n+=(a^i^r)+p[10]-1094730640|0,n=(n<<23|n>>>9)+a|0,r+=(n^a^i)+p[13]+681279174|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^a)+p[0]-358537222|0,i=(i<<11|i>>>21)+r|0,a+=(i^r^n)+p[3]-722521979|0,a=(a<<16|a>>>16)+i|0,n+=(a^i^r)+p[6]+76029189|0,n=(n<<23|n>>>9)+a|0,r+=(n^a^i)+p[9]-640364487|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^a)+p[12]-421815835|0,i=(i<<11|i>>>21)+r|0,a+=(i^r^n)+p[15]+530742520|0,a=(a<<16|a>>>16)+i|0,n+=(a^i^r)+p[2]-995338651|0,n=(n<<23|n>>>9)+a|0,r+=(a^(n|~i))+p[0]-198630844|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~a))+p[7]+1126891415|0,i=(i<<10|i>>>22)+r|0,a+=(r^(i|~n))+p[14]-1416354905|0,a=(a<<15|a>>>17)+i|0,n+=(i^(a|~r))+p[5]-57434055|0,n=(n<<21|n>>>11)+a|0,r+=(a^(n|~i))+p[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~a))+p[3]-1894986606|0,i=(i<<10|i>>>22)+r|0,a+=(r^(i|~n))+p[10]-1051523|0,a=(a<<15|a>>>17)+i|0,n+=(i^(a|~r))+p[1]-2054922799|0,n=(n<<21|n>>>11)+a|0,r+=(a^(n|~i))+p[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~a))+p[15]-30611744|0,i=(i<<10|i>>>22)+r|0,a+=(r^(i|~n))+p[6]-1560198380|0,a=(a<<15|a>>>17)+i|0,n+=(i^(a|~r))+p[13]+1309151649|0,n=(n<<21|n>>>11)+a|0,r+=(a^(n|~i))+p[4]-145523070|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~a))+p[11]-1120210379|0,i=(i<<10|i>>>22)+r|0,a+=(r^(i|~n))+p[2]+718787259|0,a=(a<<15|a>>>17)+i|0,n+=(i^(a|~r))+p[9]-343485551|0,n=(n<<21|n>>>11)+a|0,s[0]=r+s[0]|0,s[1]=n+s[1]|0,s[2]=a+s[2]|0,s[3]=i+s[3]|0}function h(s){var p=[],r;for(r=0;r<64;r+=4)p[r>>2]=s.charCodeAt(r)+(s.charCodeAt(r+1)<<8)+(s.charCodeAt(r+2)<<16)+(s.charCodeAt(r+3)<<24);return p}function m(s){var p=[],r;for(r=0;r<64;r+=4)p[r>>2]=s[r]+(s[r+1]<<8)+(s[r+2]<<16)+(s[r+3]<<24);return p}function u(s){var p=s.length,r=[1732584193,-271733879,-1732584194,271733878],n,a,i,_,v,w;for(n=64;n<=p;n+=64)f(r,h(s.substring(n-64,n)));for(s=s.substring(n-64),a=s.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<a;n+=1)i[n>>2]|=s.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(f(r,i),n=0;n<16;n+=1)i[n]=0;return _=p*8,_=_.toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(_[2],16),w=parseInt(_[1],16)||0,i[14]=v,i[15]=w,f(r,i),r}function E(s){var p=s.length,r=[1732584193,-271733879,-1732584194,271733878],n,a,i,_,v,w;for(n=64;n<=p;n+=64)f(r,m(s.subarray(n-64,n)));for(s=n-64<p?s.subarray(n-64):new Uint8Array(0),a=s.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<a;n+=1)i[n>>2]|=s[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(f(r,i),n=0;n<16;n+=1)i[n]=0;return _=p*8,_=_.toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(_[2],16),w=parseInt(_[1],16)||0,i[14]=v,i[15]=w,f(r,i),r}function g(s){var p="",r;for(r=0;r<4;r+=1)p+=t[s>>r*8+4&15]+t[s>>r*8&15];return p}function y(s){var p;for(p=0;p<s.length;p+=1)s[p]=g(s[p]);return s.join("")}y(u("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=function(s,p){var r=(s&65535)+(p&65535),n=(s>>16)+(p>>16)+(r>>16);return n<<16|r&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function s(p,r){return p=p|0||0,p<0?Math.max(p+r,0):Math.min(p,r)}ArrayBuffer.prototype.slice=function(p,r){var n=this.byteLength,a=s(p,n),i=n,_,v,w,O;return r!==o&&(i=s(r,n)),a>i?new ArrayBuffer(0):(_=i-a,v=new ArrayBuffer(_),w=new Uint8Array(v),O=new Uint8Array(this,a,_),w.set(O),v)}}();function c(s){return/[\u0080-\uFFFF]/.test(s)&&(s=unescape(encodeURIComponent(s))),s}function b(s,p){var r=s.length,n=new ArrayBuffer(r),a=new Uint8Array(n),i;for(i=0;i<r;i+=1)a[i]=s.charCodeAt(i);return p?a:n}function A(s){return String.fromCharCode.apply(null,new Uint8Array(s))}function I(s,p,r){var n=new Uint8Array(s.byteLength+p.byteLength);return n.set(new Uint8Array(s)),n.set(new Uint8Array(p),s.byteLength),r?n:n.buffer}function d(s){var p=[],r=s.length,n;for(n=0;n<r-1;n+=2)p.push(parseInt(s.substr(n,2),16));return String.fromCharCode.apply(String,p)}function C(){this.reset()}return C.prototype.append=function(s){return this.appendBinary(c(s)),this},C.prototype.appendBinary=function(s){this._buff+=s,this._length+=s.length;var p=this._buff.length,r;for(r=64;r<=p;r+=64)f(this._hash,h(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},C.prototype.end=function(s){var p=this._buff,r=p.length,n,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i;for(n=0;n<r;n+=1)a[n>>2]|=p.charCodeAt(n)<<(n%4<<3);return this._finish(a,r),i=y(this._hash),s&&(i=d(i)),this.reset(),i},C.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},C.prototype.setState=function(s){return this._buff=s.buff,this._length=s.length,this._hash=s.hash,this},C.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},C.prototype._finish=function(s,p){var r=p,n,a,i;if(s[r>>2]|=128<<(r%4<<3),r>55)for(f(this._hash,s),r=0;r<16;r+=1)s[r]=0;n=this._length*8,n=n.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(n[2],16),i=parseInt(n[1],16)||0,s[14]=a,s[15]=i,f(this._hash,s)},C.hash=function(s,p){return C.hashBinary(c(s),p)},C.hashBinary=function(s,p){var r=u(s),n=y(r);return p?d(n):n},C.ArrayBuffer=function(){this.reset()},C.ArrayBuffer.prototype.append=function(s){var p=I(this._buff.buffer,s,!0),r=p.length,n;for(this._length+=s.byteLength,n=64;n<=r;n+=64)f(this._hash,m(p.subarray(n-64,n)));return this._buff=n-64<r?new Uint8Array(p.buffer.slice(n-64)):new Uint8Array(0),this},C.ArrayBuffer.prototype.end=function(s){var p=this._buff,r=p.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a,i;for(a=0;a<r;a+=1)n[a>>2]|=p[a]<<(a%4<<3);return this._finish(n,r),i=y(this._hash),s&&(i=d(i)),this.reset(),i},C.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.ArrayBuffer.prototype.getState=function(){var s=C.prototype.getState.call(this);return s.buff=A(s.buff),s},C.ArrayBuffer.prototype.setState=function(s){return s.buff=b(s.buff,!0),C.prototype.setState.call(this,s)},C.ArrayBuffer.prototype.destroy=C.prototype.destroy,C.ArrayBuffer.prototype._finish=C.prototype._finish,C.ArrayBuffer.hash=function(s,p){var r=E(new Uint8Array(s)),n=y(r);return p?d(n):n},C})});var he=Oe(ie()),P=!1;function R(o){return o.join("::")}var N=class{constructor(e,t){this.definitions=e,this.components=t,this.cleanupHashes()}cleanupHashes(){let e=j(this),t=Pe(this,e);if(Object.keys(t).length!==0){this.components.forEach(l=>{H(l,f=>{if(f.type===10&&f.val){let h=f.val,m=t[h];if(!m)return;f.val=m}})});for(let l=0;l<this.components.length;l++){let f=this.components[l];t[f.ref]&&(this.components[l]=null)}this.components=this.components.filter(l=>l!==null)}}GetComponentByRef(e){return this.components.filter(t=>t.ref===e)[0]}GetComponentsByRef(e){return this.components.filter(t=>t.ref===e)}GetComponentByGuid(e){return this.components.filter(t=>t.guid===e)[0]}};function De(o){let e=0;return o.components.forEach(t=>{e=Math.max(e,t.ref)}),e}function j(o){let e={};return o.components.forEach(t=>{e[t.ref]=t}),e}function ae(o){let e={};return o.components.forEach(t=>{t.guid&&(e[t.guid]=t.ref)}),e}function $(o,e,t,l=!1,f=null){if(t[o.ref])return t[o.ref];if(o.type[1]==="ifcownerhistory")return"a";let h=[o.guid,...o.type];H(o,u=>{if(!(u.type===5||u.type===4||u.type===6))if(u.type===10){if(u.val&&u.val!==o.ref){let g=u.val;if(l)f?h.push(f[g]):h.push(g);else{let y=e[g];if(!y)throw new Error(`Unknown component reference ${g}`);h.push($(y,e,t,!1,null))}}}else h.push(u.val)});let m=he.hash(h.join(","));return t[o.ref]=m,m}function Pe(o,e){let t={},l={},f={};return o.components.forEach(h=>{if(!h.guid){if(h.hash=$(h,e,l),h.hash===null||h.hash==="")throw new Error(`Null hash for component ${h}`);t[h.hash]?f[h.ref]=t[h.hash]:t[h.hash]=h.ref}}),f}function se(o,e){let t={},l={};return o.components.forEach(f=>{if(!f.guid){if(f.hash=$(f,e,l),f.hash===null)throw new Error(`Null hash for component ${f}`);if(t[f.hash])throw new Error("Duplicate hash while building hashmap, this is a bug!");t[f.hash]=f.ref}}),t}function le(o,e){return{ref:e,guid:o.guid,type:o.type,data:o.data}}function Y(o,e,t){if(o.type===5){if(!(o.val&&e.val))return o.val===e.val;if(o.val.length!==e.val.length)return!1;for(let l=0;l<o.val.length;l++)if(!Y(o.val[l],e.val[l],null))return!1;return!0}else if(o.type===6){if(o.namedType!==e.namedType)return!1;Y(o.val,e.val,null)}else return o.val===e.val}function k(o,e){let t=e.data.filter(l=>l.name===o);return t.length===0?!1:t[0]}function $e(o,e,t){let l=k(t.name,o),f=k(t.name,e);if(l&&f)return Y(l.val,f.val,t.value);throw console.log(o,e),new Error(`Schema mismatch for attribute ${t.name}`)}function Me(o,e){let t=o.data.filter(f=>f.name===e.attributeName);if(t.length===0)throw new Error(`Couldn't find modified attribute ${e.attributeName} on ${o.ref}`);let l=t[0];l.val=e.newValue}function Fe(o,e,t){let l=[];return t.attributes.forEach(f=>{if(!$e(o,e,f)){let h=k(f.name,e);h&&l.push({attributeName:f.name,newValue:h.val})}}),l}function Ue(o,e,t){if(o.hash!==""&&o.hash===e.hash)return!1;let l=t[R(o.type)];if(!l)throw new Error(`Component type without definition ${R(o.type)}`);let f={ref:o.ref,modifications:Fe(o,e,l.schema)};return f.modifications.length===0?!1:f}function fe(o){let e={};return o.definitions.forEach(t=>{e[R(t.id)]=t}),e}function Ge(o,e,t){let l={};return Object.keys(o).forEach(f=>{let h=o[f],m=e[f];l[f]=h,m?P&&console.log(`Skipped ${f}`):(P&&console.log(`Removed ${f}`),t.expired.push({id:h.id}))}),Object.keys(e).forEach(f=>{let h=o[f],m=e[f];l[f]=h,h?P&&console.log(`Skipped ${f}`):(P&&console.log(`Added ${f}`),t.created.push(m))}),l}function G(o,e){o.type===5?(e(o),o.val&&o.val.forEach(l=>G(l,e))):o.type===6||o.type===4?(e(o),o.val&&G(o.val,e)):e(o)}function H(o,e){o.data.forEach(t=>{G(t.val,e)})}function M(o){let e=[];return H(o,t=>{t.type===10&&t.val&&e.push(t.val)}),e}function ue(o,e,t,l){if(!t[o]||t[o]<l){t[o]=l;let f=e[o];f&&f.forEach(h=>{ue(h,e,t,l+1)})}}var W=class{};function ce(o){let e=new W;return e.depthMap={},e.fwdRefs={},e.bwdRefs={},o.components.forEach(t=>{let l=M(t);e.fwdRefs[t.ref]=l,l.forEach(f=>{e.bwdRefs[f]||(e.bwdRefs[f]=[]),e.bwdRefs[f].push(t.ref)})}),o.components.forEach(t=>{let l=e.fwdRefs[t.ref];(!l||l.length===0)&&ue(t.ref,e.bwdRefs,e.depthMap,0)}),P&&console.log("---dm",e.depthMap),e}var q=class{constructor(){this.hashToRefLeft={};this.hashToRefRight={};this.matchingHashes=[];this.addedHashes=[];this.removedHashes=[]}},z=class{constructor(){this.guidToRefLeft={};this.guidToRefRight={};this.matchingGuids=[];this.addedGuids=[];this.removedGuids=[]}};function je(o,e,t,l){let f=new q;return f.hashToRefLeft=se(o,t),console.log("e"),f.hashToRefRight=se(e,l),Object.keys(f.hashToRefLeft).forEach(h=>{f.hashToRefRight[h]?f.matchingHashes.push(h):f.removedHashes.push(h)}),Object.keys(f.hashToRefRight).forEach(h=>{f.hashToRefLeft[h]||f.addedHashes.push(h)}),f}function He(o,e){let t=new z;return t.guidToRefLeft=ae(o),t.guidToRefRight=ae(e),Object.keys(t.guidToRefLeft).forEach(l=>{t.guidToRefRight[l]?t.matchingGuids.push(l):t.removedGuids.push(l)}),Object.keys(t.guidToRefRight).forEach(l=>{t.guidToRefLeft[l]||t.addedGuids.push(l)}),t}function Ve(o,e){let t={};return o.matchingHashes.forEach(l=>{let f=o.hashToRefLeft[l],h=o.hashToRefRight[l];t[h]=f}),e.matchingGuids.forEach(l=>{let f=e.guidToRefLeft[l],h=e.guidToRefRight[l];t[h]=f}),t}function Ye(o,e,t,l){let f=Ve(o,e),h={};Object.keys(f).forEach(u=>h[f[u]]=u);let m=[];for(e.matchingGuids.forEach(u=>{let E=e.guidToRefRight[u];if(!E)throw new Error(`Unknown right ref for guid ${u}`);m.push(E)});;){let g=function(y,c){E[y]||(E[y]={}),E[y][c]||(E[y][c]=0),E[y][c]++},u=[],E={};if(m.forEach(y=>{let c=f[y],b=t[c],A=l[y];if(!b||!A)throw console.log(c,y),console.log(b,A),new Error("Comp mismtach!");let I=M(b),d=M(A);if(I.length===d.length)for(let C=0;C<I.length;C++){let s=I[C],p=d[C],r=f[p],n=h[s];if(r||n)continue;let a=t[s],i=l[p];R(a.type)===R(i.type)&&g(p,s)}}),Object.keys(E).forEach(y=>{let c=-1,b=0;if(Object.keys(E[y]).forEach(A=>{let I=E[y][A];!h[A]&&I>c&&(c=I,b=parseInt(A))}),c){let A=parseInt(y);f[A]=b,h[b]=A,u.push(A)}}),u.length===0)break;m=u}return f}function pe(o,e){H(o,t=>{if(t.type===10&&t.val){let l=e[t.val];if(!l)throw new Error(`Unknown new left ref for ${t.val}`);t.val=l}})}function de(o,e){let t=De(o)+1,l=j(o),f=j(e),h=fe(o),m=fe(e),u={created:[],expired:[]},E=Ge(h,m,u),g=je(o,e,l,f),y=He(o,e);console.log("d"),console.log(`left components: ${o.components.length}`),console.log(`right components: ${e.components.length}`),console.log(`hash matches: ${g.matchingHashes.length}`),console.log(`hash added: ${g.addedHashes.length}`),console.log(`hash removed: ${g.removedHashes.length}`),console.log(`guids matches: ${y.matchingGuids.length}`),console.log(`guids added: ${y.addedGuids.length}`),console.log(`guids removed: ${y.removedGuids.length}`);let c=Ye(g,y,l,f),b={};Object.keys(c).forEach(a=>b[c[a]]=a);let A=[],I=[],d=[],C={};Object.keys(f).forEach(a=>{let i=c[a];i?C[a]=i:C[a]=t++});let s=!0;for(;s;){s=!1;let a=[];Object.keys(l).forEach(T=>{b[T]||a.push(parseInt(T))}),d=[],Object.keys(f).forEach(T=>{if(!c[T])if(C[T])d.push(le(f[T],parseInt(T)));else throw new Error("Missing mapping to left ref!")});let i={},_={};a.forEach(T=>{i[$(l[T],null,_,!0)]=l[T]});let v={};_={},console.log(`aDDED comps ${d.length}`),d.forEach(T=>{v[$(T,null,_,!0,C)]=T}),_={};let w=0,O=0;Object.keys(v).forEach(T=>{if(i[T]){s=!0;let D=v[T],U=i[T];C[D.ref]=U.ref,c[D.ref]=U.ref,b[U.ref]=D.ref,w++}else O++}),console.log(`Existing ${w}, new: ${O}`)}return d=[],I=[],Object.keys(f).forEach(a=>{let i=c[a];if(i){pe(f[a],C);let _=Ue(l[i],f[a],E);_&&I.push(_)}else{let _=C[a];if(_)pe(f[a],C),d.push(le(f[a],_));else throw new Error("Missing mapping to left ref!")}}),{date:"",hash:"",context:"",author:"bob@bob.com",delta:{components:{added:d,modified:I,removed:A},definitions:u}}}function ke(o){return{ref:o.ref,hash:"",guid:o.guid,type:o.type,data:o.data}}function We(o,e){e.delta.definitions.created.forEach(l=>{o.definitions.push(l)});let t=j(o);e.delta.components.added.forEach(l=>{o.components.push(ke(l))}),e.delta.components.modified.forEach(l=>{let f=t[l.ref];if(!f)throw new Error(`Unknown modified component ref ${l.ref}`);l.modifications.forEach(h=>{Me(f,h)})}),e.delta.components.removed.forEach(l=>{if(!t[l])throw new Error(`Unknown removed component ref ${l}`);o.components=o.components.filter(h=>h.ref!==l)})}function me(o){let e=new N([],[]);return o.transactions.forEach(t=>{We(e,t)}),e}function J(o){if(o.val===null)return"$";switch(o.type){case 0:case 1:case 8:case 9:return`${o.val}`;case 6:return`${o.namedType}(${J(o.val)})`;case 2:return`'${o.val}'`;case 3:return`.${o.val}.`;case 10:return`#${o.val}`;case 7:return o.val?".T.":".F.";case 4:throw new Error("Unexpected select while exporting to IFC");case 5:return`(${o.val.map(l=>J(l)).join(",")})`;default:throw new Error("Unexpected type while exporting to IFC")}}function qe(o){return o.map(e=>{if(e.name==="GlobalId"&&e.val&&e.val.val===""){for(var t="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",f=0;f<22;f++)t+=l.charAt(Math.floor(Math.random()*l.length));return`'${t}'`}else return J(e.val)}).join(",")}function ze(o){let e=o.type[1].toLocaleUpperCase();return`#${o.ref}=${e}(${qe(o.data)});`}function V(o,e,t){let l=e?e.map(b=>o.GetComponentByRef(b)):o.components,f="exported file description",h="exported file name",m="bl",u=t?"IFC2X3":"IFC4",E=[];E.push("ISO-10303-21;"),E.push("HEADER;"),E.push(`FILE_DESCRIPTION(('${f}'), '2;1');`),E.push(`FILE_NAME('${h}', '', (''), (''), '${m}');`),E.push(`FILE_SCHEMA(('${u}'));`),E.push("ENDSEC;"),E.push("DATA;"),E=E.join(`
`);let y=l.map(b=>ze(b)).join(`
`),c=["ENDSEC;","END-ISO-10303-21;"].join(`
`);return`${E}
${y}
${c}`}function Je(o){let e=[],t=[];for(o.forEach(l=>t.push(l));t.length>0;){for(let l=0;l<t.length;l++)(t[l].parent==null||e.some(f=>f.name===t[l].parent))&&e.push(t[l]);t=t.filter(l=>!e.includes(l))}return e}function Ke(o){let e=o;return o=="REAL"||o=="INTEGER"||o=="NUMBER"?e="number":o=="STRING"?e="string":o=="BOOLEAN"?e="boolean":o=="BINARY"?e="number":o=="LOGICAL"&&(e="boolean"),e}function Ce(o,e){let t=o.split(" "),l=t[0].replace("INVERSE","").trim(),f=t.indexOf("SET")!=-1||t.indexOf("LIST")!=-1,h=t[t.length-1].replace(";",""),m=t[t.length-3],u=Ke(m);e.inverseProps.push({name:l,type:u,set:f,for:h})}function Xe(o){let e=o.split(";"),t=[],l=[],f=!1,h=!1,m=!1,u=!1;for(let E=0;E<e.length;E++){let g=e[E].trim(),y=g.indexOf(" : ")!=-1;if(g.indexOf("ENTITY")==0){let c=g.split(" "),b=c[1].trim();h={name:b,parent:null,props:[],children:[],derivedProps:[],inverseProps:[],derivedInverseProps:[],isIfcProduct:!1,isIfcRelationship:!1,isIfcOwnerHistory:!1,isEntity:!0,isType:!1},b==="IfcProduct"&&(h.isIfcProduct=!0),b==="IfcRelationship"&&(h.isIfcRelationship=!0),b==="IfcPropertySetDefinition"&&(h.isIfcRelationship=!0),b==="IfcElementType"&&(h.isIfcRelationship=!0),b==="IfcGrid"&&(h.isIfcRelationship=!0),b==="IfcDistributionPort"&&(h.isIfcRelationship=!0),b==="IfcOwnerHistory"&&(h.isIfcOwnerHistory=!0),m=!0,u=!1;let A=c.indexOf("SUBTYPE");if(A!=-1){let I=c[A+2].replace("(","").replace(")","");h.parent=I}}else if(g.indexOf("END_ENTITY")==0)h&&t.push(h),m=!1,u=!1;else if(g.indexOf("WHERE")==0)m=!1,u=!1;else if(g.indexOf("INVERSE")==0)m=!1,u=!0,Ce(g,h);else if(g.indexOf("DERIVE")==0)m=!1,u=!1;else if(g.indexOf("UNIQUE")==0)m=!1,u=!1;else if(g.indexOf("TYPE")==0){m=!1,u=!1;let c=g.split(" ").map(r=>r.trim()),b=c[1],A=c.indexOf("LIST")!=-1||c.indexOf("SET")!=-1||c.indexOf("ARRAY")!=-1,I=c.indexOf("ENUMERATION")!=-1,d=c[3].indexOf("SELECT")==0,C=null,s="";if(A)s=c[c.length-1];else if(I||d){let r=g.indexOf("("),n=g.indexOf(")");C=g.substring(r+1,n).split(",").map(i=>i.trim())}else s=c[3];let p=s.indexOf("(");p!=-1&&(s=s.substr(0,p)),f={name:b,typeName:s,isList:A,isEnum:I,isSelect:d,values:C,isType:!0,isEntity:!1}}else if(g.indexOf("END_TYPE")==0)f&&l.push(f),f=!1;else if(h&&u&&y)Ce(g,h);else if(h&&m&&y){let c=g.split(" "),b=c[0],A=c.indexOf("OPTIONAL")!=-1,I=c.indexOf("SET")!=-1||c.indexOf("LIST")!=-1,d=c.filter(r=>r==="LIST").length===2,C=c[c.length-1].replace(";",""),s=C.indexOf("(");s!=-1&&(C=C.substr(0,s));let p=C;h.props.push({name:b,type:p,primitive:p!==C,optional:A,set:I,setOfSet:d})}}return{entities:t,types:l}}function ye(o,e){if(o==null)return null;for(var t=0;t<e.length;t++)if(e[t].name==o)return e[t];return null}function Ze(o){for(var e=o.length-1;e>=0;e--){let t=ye(o[e].parent,o);t!=null&&(t.children.push(...o[e].children),t.children.push(o[e].name))}return o}function ge(o,e){let t=ye(o.parent,e);t==null?(o.derivedProps=o.props,o.derivedInverseProps=o.inverseProps):(ge(t,e),t.isIfcProduct&&(o.isIfcProduct=!0),t.isIfcRelationship&&(o.isIfcRelationship=!0),o.derivedProps=[...t.derivedProps,...o.props],o.derivedInverseProps=[...t.derivedInverseProps,...o.inverseProps])}console.log("Starting...");function be(o){let e=new Set;e.add("FILE_SCHEMA"),e.add("FILE_NAME"),e.add("FILE_DESCRIPTION");let t=new Set,f=Xe(o),h=Je(f.entities),m=f.types;h.forEach(s=>{ge(s,h)}),h=Ze(h);for(var u=0;u<h.length;u++)e.add(h[u].name),h[u].isIfcProduct&&t.add(h[u].name),h[u].derivedInverseProps.length>0&&h[u].derivedInverseProps.forEach(s=>{let p=0;for(let n of h)if(n.name==s.type){for(let a=0;a<n.derivedProps.length;a++)if(n.derivedProps[a].name==s.for){p=a;break}break}let r=`ifc.${s.type.toUpperCase()}`});let E={};h.forEach(s=>E[s.name]=s),m.forEach(s=>E[s.name]=s);function g(s){s.derivedProps.forEach(p=>{console.log(E[p.type])}),console.log(JSON.stringify(s,null,4))}function y(s){if(s==="NUMBER"||s==="REAL"||s==="INTEGER")return 0;if(s=="STRING")return 2;if(s=="BOOLEAN")return 7;if(s=="BINARY")return 8;if(s=="LOGICAL")return 9;throw new Error(`Unkonwn prop type: "${s}"`)}function c(s){let p=5;if(s.isType){let r=s;if(r.isEnum)p=3;else if(r.isList){let n=E[r.typeName];return n&&n.isEntity?{type:5,optional:!1,child:{type:10,optional:!1,child:null}}:n&&n.isType?{type:5,optional:!1,child:c(n)}:{type:5,optional:!1,child:{type:y(r.typeName),optional:!1,child:null}}}else{if(r.isSelect)return{type:4,optional:!1,child:r.values.map(n=>c(E[n]))};{let n=E[r.typeName];if(n)return c(n);p=y(r.typeName)}}}else s.isEntity&&(p=10);return{type:p,optional:!1,child:null}}function b(s){let p=E[s.type];if(p){if(s.setOfSet)return{type:5,optional:s.optional,child:{type:5,optional:!1,child:c(p)}};if(s.set)return{type:5,optional:s.optional,child:c(p)};{let r=c(p);return r.optional=s.optional,r}}else{let r=y(s.type);return s.setOfSet?{type:5,optional:s.optional,child:{type:5,optional:!1,child:{type:r,optional:!1,child:null}}}:s.set?{type:5,optional:s.optional,child:{type:r,optional:!1,child:null}}:{type:r,optional:s.optional,child:null}}}function A(s){return{name:s.name,value:b(s)}}function I(s){return{attributes:s.map(r=>A(r))}}function d(s){return{id:["ifc2x3",s.name.toLocaleLowerCase()],parent:null,ownership:"any",isEntity:s.isIfcProduct,isRelationShip:s.isIfcRelationship,isIfcOwnerHistory:s.isIfcOwnerHistory,schema:I(s.derivedProps)}}return h.map(s=>d(s))}var Ae=1024*1024,K=class{constructor(e,t){this.data_ptr=0;this.schema_ptr=0;this.attrInstances=[];this.data=e,this.schema=t}AtEnd(){return this.data_ptr===this.data.length}ParseAttribute(e){let t=this.data[this.data_ptr++];if(t===2){let l=this.data[this.data_ptr++];if(this.data[this.data_ptr++]!==7)throw new Error("No opening brace for named type!");let h={type:6,namedType:l,val:this.ParseAttribute(e)};if(this.data[this.data_ptr++]!==8)throw new Error("No closing brace for named type!");return h}if(t===0)return{type:1,val:"*"};if(e.optional&&t===6)return{type:e.type,val:null};if(e.type===2){if(t!==1)throw new Error(`Bad type ${t} found for string`);return{type:2,val:this.data[this.data_ptr++]}}else if(e.type===3){if(t!==3)throw new Error(`Bad type ${t} found for enum`);return{type:3,val:this.data[this.data_ptr++]}}else if(e.type===10){if(t!==5)throw new Error(`Bad type ${t} found for ref`);return{type:10,val:this.data[this.data_ptr++]}}else if(e.type===0){if(t!==4)throw new Error(`Bad type ${t} found for number`);return{type:0,val:this.data[this.data_ptr++]}}else if(e.type===7){if(t!==3)throw new Error(`Bad type ${t} found for boolean`);return{type:7,val:this.data[this.data_ptr++]==="T"}}else if(e.type===9){if(t!==3)throw new Error(`Bad type ${t} found for boolean`);return{type:9,val:this.data[this.data_ptr++]==="T"}}else if(e.type===4){let l=e.child,f=null,h=this.data_ptr-1;for(let m=0;m<l.length;m++){this.data_ptr=h;let u=l[m];try{f=this.ParseAttribute(u);break}catch{}}if(f)return f;throw new Error("None of the select types match!")}else if(e.type===5){if(t!==7)throw new Error(`Bad type ${t} found for array`);{let l=[],f=this.data[this.data_ptr];for(;f!==8;)l.push(this.ParseAttribute(e.child)),f=this.data[this.data_ptr];return this.data_ptr++,{type:5,val:l}}}else throw new Error(`Unsupported type ${e.type}`)}ParseNewAttribute(){if(this.schema.attributes.length<=this.schema_ptr)throw new Error(`Exceeded schema length ${this.schema_ptr} ${this.schema.attributes.length}`);let e=this.schema.attributes[this.schema_ptr++],t=e.value;return{name:e.name,val:this.ParseAttribute(t)}}ParseLineDataToSchema(){for(;!this.AtEnd();)this.attrInstances.push(this.ParseNewAttribute());return this.attrInstances}};function Qe(o,e){return new K(o.data,e.schema).ParseLineDataToSchema()}function et(o){let e=null;return o.forEach(t=>{t.name==="GlobalId"&&(e=t.val.val)}),e}function tt(o){o.forEach(e=>{e.name==="GlobalId"&&(e.val.val="")})}function te(o,e){let t=new ee,l=0;t.Tokenize((u,E)=>{let g=l,y=Math.min(l+E,o.length);for(let c=g;c<y;c++){let b=c-g;u[b]=o.charCodeAt(c)}return l=y,y-g});let f=new Z(t._tape);f.ParseTape();let h={};e.forEach(u=>{h[R(u.id)]=u});let m=[];for(let u=0;u<f._lines.length;u++){let E=f._lines[u],g=R(["ifc2x3",E.type.toLocaleLowerCase()]),y=h[g];if(!y)throw new Error(`Unknown line type ${g}`);let c=Qe(E,y),b=E.type.toLocaleUpperCase()==="IFCRELCONTAINEDINSPATIALSTRUCTURE",A=y.isRelationShip&&!b;A&&tt(c);let I={ref:E.id,hash:"",guid:A?null:et(c),type:["ifc2x3",E.type.toLocaleLowerCase()],data:c};m.push(I)}return new N(e,m)}var X=class{};function nt(o,e,t){let l=new X;return l.id=e,l.type=t,l.data=o.slice(1,o.length-2),l}var Z=class{constructor(e){this._tape=[];this._line=[];this._lines=[];this._tape=e}ParseTape(){let e=0,t="",l=0,f=!1,h=0;for(;h!=this._tape.length;){let m=this._tape[h++];switch(m===7&&(f=!0),f&&this._line.push(m),m){case 9:{l!=0?this._lines.push(nt(this._line,l,t)):t!="",f=!1,l=0,t="",this._line=[];break}case 0:case 6:case 7:case 8:break;case 1:case 3:case 4:{let u=this._tape[h++];f&&this._line.push(u);break}case 2:{let u=this._tape[h++];f&&this._line.push(u),t===""&&(t=u);break}case 5:{let u=this._tape[h++];f&&this._line.push(u),l==0&&(l=u);break}default:break}}}},Q=class{constructor(){this.bufPos=0;this.bufLength=0;this.done=!1;this._readBuffer=new Int8Array(Ae)}Advance(){this.bufPos++,!this.done&&this.AtEnd()&&(this.bufPos=0,this.bufLength=this._requestData(this._readBuffer,Ae),this.done=this.bufLength==0),this.prev=this.cur,this.cur=this.next,this.next=this.done?0:this._readBuffer[this.bufPos]}AtEnd(){return this.bufPos>=this.bufLength}},ee=class{constructor(){this._temp=[];this._tape=[];this._ptr=new Q}Tokenize(e){this._ptr._requestData=e,this._ptr.bufPos=1,this._ptr.bufLength=0,this._ptr.Advance(),this._ptr.Advance();let t=0;for(;this.TokenizeLine();)t++;return t}TokenizeLine(){let e=!1;for(;;){if(this._ptr.done){e=!0;break}let t=this._ptr.cur;if(t==" ".charCodeAt(0)||t==`
`.charCodeAt(0)||t=="\r".charCodeAt(0)||t=="	".charCodeAt(0)){this._ptr.Advance();continue}if(t=="'".charCodeAt(0)){this._ptr.Advance();let f=!1;for(this._temp=[];;){if(this._temp.push(this._ptr.cur),this._ptr.cur=="'".charCodeAt(0))if(this._ptr.next=="'".charCodeAt(0))this._ptr.Advance(),this._temp.push(this._ptr.cur);else{this._temp.pop();break}this._ptr.Advance()}this._tape.push(1),this._tape.push(String.fromCharCode(...this._temp))}else if(t=="#".charCodeAt(0)){this._ptr.Advance();let f=this.readInt();this._tape.push(5),this._tape.push(f);continue}else if(t=="$".charCodeAt(0))this._tape.push(6);else if(t=="*".charCodeAt(0))if(this._ptr.prev=="/".charCodeAt(0))for(this._ptr.Advance();!(this._ptr.prev=="*".charCodeAt(0)&&this._ptr.cur=="/".charCodeAt(0));)this._ptr.Advance();else this._tape.push(0);else if(t=="(".charCodeAt(0))this._tape.push(7);else if(t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)){let f=this._ptr.prev=="-".charCodeAt(0),h=this.readDouble();f&&(h*=-1),this._tape.push(4),this._tape.push(h);continue}else if(t==".".charCodeAt(0)){for(this._temp=[],this._ptr.Advance();this._ptr.cur!=".".charCodeAt(0);)this._temp.push(this._ptr.cur),this._ptr.Advance();this._tape.push(3),this._tape.push(String.fromCharCode(...this._temp))}else if(t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)||t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)){for(this._temp=[];this._ptr.cur>="A".charCodeAt(0)&&this._ptr.cur<="Z".charCodeAt(0)||this._ptr.cur>="a".charCodeAt(0)&&this._ptr.cur<="z".charCodeAt(0)||this._ptr.cur>="0".charCodeAt(0)&&this._ptr.cur<="9".charCodeAt(0)||this._ptr.cur=="_".charCodeAt(0);)this._temp.push(this._ptr.cur),this._ptr.Advance();this._tape.push(2),this._tape.push(String.fromCharCode(...this._temp));continue}else if(t==")".charCodeAt(0))this._tape.push(8);else if(t==";".charCodeAt(0)){this._tape.push(9),this._ptr.Advance();break}this._ptr.Advance()}return!e&&!this._ptr.done}readInt(){let e=0,t=this._ptr.cur;for(this._temp=[];t>="0".charCodeAt(0)&&t<="9".charCodeAt(0);)this._temp.push(t),this._ptr.Advance(),t=this._ptr.cur;return parseInt(String.fromCharCode(...this._temp))}readDouble(){let e=this._ptr.cur;for(this._temp=[];this._ptr.cur>="0".charCodeAt(0)&&this._ptr.cur<="9".charCodeAt(0)||this._ptr.cur==".".charCodeAt(0)||this._ptr.cur=="e".charCodeAt(0)||this._ptr.cur=="E".charCodeAt(0)||this._ptr.cur=="-".charCodeAt(0)||this._ptr.cur=="+".charCodeAt(0);)this._temp.push(this._ptr.cur),this._ptr.Advance();return parseFloat(String.fromCharCode(...this._temp))}};function B(o,e,t,l,f=null){let h=e.GetComponentByRef(o);if(!h||f&&f[R(h.type)])return;M(h).forEach(u=>{l[u]||(t.push(u),l[u]=!0,B(u,e,t,l,f))})}function Ie(o,e,t,l,f){let h=e.GetComponentByRef(o);if(!h)throw new Error(`Couldn't find component for id ${o}`);if(f[R(h.type)]){l.push(o);return}let m=t.bwdRefs[o];m&&m.forEach(u=>{Ie(u,e,t,l,f)})}function Te(o){let e={};return o.forEach(t=>e[t]=!0),Object.keys(e)}function _e(o){return Te(o).map(e=>parseInt(e))}function x(o,e){let t=[];return o.components.forEach(l=>{l.type[1]===e[1]&&t.push(l.ref)}),t}function ve(o,e){let t={};e.definitions.forEach(d=>{t[R(d.id)]=d.isEntity});let l=[],f={},h=[],m=ce(e);o.delta.components.added.forEach(d=>{h.push(d.ref),l.push(d.ref)}),o.delta.components.modified.forEach(d=>{h.push(d.ref),l.push(d.ref)});let u=[];h.forEach(d=>{let C=e.GetComponentsByRef(d),s=[];Ie(d,e,m,s,t),console.log(C,s),u=[...u,...s]}),u=_e(u);let E=x(e,["ifc2x3","ifcproject"]),g=x(e,["ifc2x3","ifcsite"]),y=x(e,["ifc2x3","ifcbuilding"]),c=x(e,["ifc2x3","ifcbuildingstorey"]),b=x(e,["ifc2x3","ifcrelcontainedinspatialstructure"]),A=x(e,["ifc2x3","ifcrelaggregates"]);g.forEach(d=>{l.push(d),B(d,e,l,f)}),y.forEach(d=>{l.push(d),B(d,e,l,f)}),c.forEach(d=>{l.push(d),B(d,e,l,f)}),b.forEach(d=>{l.push(d)}),A.forEach(d=>{l.push(d)}),E.forEach(d=>{l.push(d),B(d,e,l,f)}),u.forEach(d=>{l.push(d),f[d]=!0,B(d,e,l,f)});let I=Te(u.map(d=>e.GetComponentByRef(d).guid).filter(d=>d));return console.log(I),_e(l)}console.log("BL web");var L={transactions:[]},S=new N([],[]);function F(o,e){let t=window.URL.createObjectURL(new Blob([o],{type:"text/plain"}));var l=document.createElement("a");l.setAttribute("download",e),l.href=t,document.body.appendChild(l),l.click(),l.remove()}document.addEventListener("DOMContentLoaded",function(){let o=document.getElementById("outputlog"),e=document.getElementById("select_schema");document.getElementById("button_dl_ecs").onclick=()=>{F(JSON.stringify(S,null,4),"ecs.json")},document.getElementById("button_dl_ledger").onclick=()=>{F(JSON.stringify(L,null,4),"ledger.json")},document.getElementById("button_dl_transaction").onclick=()=>{let l=L.transactions[L.transactions.length-1];F(JSON.stringify(l,null,4),"transaction.json")},document.getElementById("button_dl_ifc").onclick=()=>{let l=e.value;F(V(S,null,l==="ifc2x3"),"export.ifc")},document.getElementById("button_dl_delta").onclick=()=>{let l=e.value,f=L.transactions[L.transactions.length-1],h=ve(f,S);F(V(S,h,l==="ifc2x3"),"delta.ifc")};function t(l){o.innerHTML+=l+"<br>"}t("Choose a file below, and select the schema of the file"),t("!!! NOTE: Mixing schemas will make everything explode !!!"),document.getElementById("fileinput").onchange=function(l){let f=e.value;var h=new FileReader;console.log("input change"),h.onload=async function(m){if(m.target.readyState==2){if(m.target.error){alert("Error while reading file");return}try{t(""),t(`Current ECS has ${S.definitions.length} definitions`),t(`Current ECS has ${S.components.length} components`);let u=m.target.result,E=f==="ifc2x3"?"ifc2x3.exp":"IFC4.exp";t(`Using schema ${E}`);let g=await(await fetch(E)).text();t("Converting IFC file to ECS...");let y=te(u,be(g));t("Done"),t(`Added ECS has ${y.definitions.length} definitions`),t(`Added ECS has ${y.components.length} components`),t("Creating transaction...");let c=de(S,y);t("Done!"),t(`Transaction has ${c.delta.definitions.created.length} created definitions`),t(`Transaction has ${c.delta.components.added.length} added components`),t(`Transaction has ${c.delta.components.removed.length} removed components`),t(`Transaction has ${c.delta.components.modified.length} modified components`),L.transactions.push(c),t(`Current ledger has ${L.transactions.length} transactions`),S=me(L),t(`Current ECS has ${S.definitions.length} definitions`),t(`Current ECS has ${S.components.length} components`)}catch(u){throw t(u),t("Please check if you're using the right schema, otherwise, sorry :-)"),u}window.scrollTo(0,document.body.scrollHeight)}},h.readAsText(l.target.files[0])}},!1);})();
//# sourceMappingURL=web-bundle.js.map
